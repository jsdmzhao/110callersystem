IVR的几种灵活实现方式
 

[摘要] 本文以114呼叫中心为例，介绍了在北电呼叫中心平台中IVR的几种实现方式，并进行了比较。

[关键词]呼叫中心 IVR

114服务流程

一个典型的114电话号码查询服务流程如下：

1. 用户拨打“114”，该呼叫经局用交换机到达114呼叫中心的北电PBX；

2. PBX将该呼叫送至ACD队列，若此时有空闲座席，呼叫送至空闲座席；

3. 座席软件应答该呼叫，并发起三方会议至IVR；

4. IVR应答，播放欢迎词“您好！XX号为您服务，请讲”，之后挂机退出三方会议；

5. 座席话务员与用户交谈，查出用户所要查询的电话号码；

6. 座席软件将该呼叫转接（transfer）至IVR,该座席进入空闲状态，等待下一个呼叫；

7. IVR应答，播放查询结果，之后挂机，结束本次服务。

方式一：PBX配备模拟用户板接模拟电话语音卡实现IVR

这是较为常见的一种实现方式。成本比较适中，16端口的模拟用户板加上16线模拟电话语音卡（DIALOGIC）约需3万元。

功能上，可以利用PBX的ACD功能来管理IVR的语音通道，实现排队等待功能，提高IVR的语音通道使用效率；并且可以通过CTI服务器，将到达IVR的呼叫转接或会议至PBX的其他地方。

缺点是语音卡摘挂机速度慢，从向语音卡发摘机（OFFHOOK）命令到语音卡完成摘机动作，需要半秒以上的延迟。在上述114服务流程的第6步骤里，座席软件从向CTI服务器发转接命令，IVR应答，到转接完成，约需一秒的时间，期间座席话务员会听到回铃音。

方式二：PBX配备数字用户板接数字用户线电话语音卡实现IVR

这种实现方式与第一种方式相比，功能上相似，优点是语音卡摘挂机速度快。不过目前支持北电PBX数字用户线接口的电话语音卡只有DIALOGIC的 D/82JCT-U，该语音卡每块卡支持8线语音和2线传真，价格为2万多元。在同时需要IVR和FAX功能的情况下，可以考虑本实现方式。特别是使用北电11C Mini交换机时，推荐采用这种实现方式。

方式三：PBX配备E1数字中继板接E1电话语音卡实现IVR

这种实现方式的成本最低，E1数字中继板加上E1电话语音卡（DIALOGIC）约需4.5万元，就可实现30通道的IVR，而且语音卡摘挂机速度快。

但在功能上受到限制，无法利用PBX的ACD功能来管理IVR的语音通道。为了实现在IVR程序里对语音通道的分配管理，在PBX的配置程序LD 16里，必须将E1数字中继板30个通道的每一个通道，配置成单独的路由及相应的接入码（access code）。这样，每个接入码对应于唯一的一个语音通道，可以通过接入码将呼叫送至指定的语音通道。可以为IVR定义一个CDN，当呼叫进入CDN 时，IVR程序为该呼叫分配一个语音通道，向CTI服务器发CCR命令“RouteTo 语音通道接入码”，将呼叫送至该语音通道，以此来模拟实现PBX的ACD功能。这样，座席软件可以通过访问IVR的CDN，将呼叫转接或会议至IVR。

另外，一旦呼叫进入IVR后，无法通过CTI服务器，将到达IVR的呼叫转接至PBX的其他地方。不过，要将到达IVR的呼叫转接至PBX的其他地方，也有二种变通方法。第一种方法是在呼叫进入IVR的语音通道前，先将呼叫送至某个phantom TN上，再会议至IVR的语音通道，语音通道处理完毕后即挂机退出会议，最后由phantom TN控制将呼叫转接至PBX的其他地方。这种方法占用了PBX的会议资源。第二种方法是利用电话语音卡的通道联结（connect）功能，另外分配一个新的语音通道，从新的语音通道发起新的呼叫至PBX其他地方，再将两个语音通道联结起来，以此来模拟实现将到达IVR的呼叫转接至PBX的其他地方。这种方法多占用了IVR的两个语音通道。在实际应用中，可以将上述两种方法结合起来使用，当PBX有空闲的会议资源时使用第一种方法，否则使用二种方法。

方式四：PBX配备line-side E1 IPE接E1电话语音卡实现IVR

line-side E1 IPE占用2个交换机槽位，它将E1中继的30个语音通道仿真成30个模拟用户端口。这种实现方式在功能和优点上，与方式二相似。缺点是成本高，实现30 通道的IVR，line-side E1 IPE加上E1电话语音卡（DIALOGIC）约需10万元。 